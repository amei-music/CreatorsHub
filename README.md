# これは何？
mw1はマルチモーダルな創作活動を加速するためのソフトウェアフレームワークです。

音楽に連動して映像を操作したり、IoTデバイスから楽器や照明をコントロールするといったマルチモーダルな創作では、複数のアプリケーションや通信プロトコル間でのデータのやり取りが欠かせません。
現在、音楽製作に適したソフトウェアや、照明機器を多数接続コントロールする通信プロトコルなど、各領域においての創作を加速させるためのシステムは多数存在していますが、それらを組み合わせて1つの大きなシステムにするには、物理的な通信経路の接続や、データフォーマットの相互変換、データのスケール変換など、「本来やりたい部分ではない」課題が多数あります。
mw1は異なるプロトコルやアプリケーションのメッセージを相互に変換することで、このような手間を軽減することを目的としています。

mw1は、以下の仕組みを提供するための仕様の集まりと、それを実装したサーバープログラムです。

- 通信プロトコル、データフォーマットの相互変換: 20160603現在、MIDI, rtp-MIDI, Open Sound Control, Web Socketを流れる特定形式のJSON, 等のメッセージを受け取り、ユーザー指定の出力先に対して適切なプロトコル/データフォーマットで送信する。
- Webページによる接続設定: mw1に接続しているどの入力からどの出力へメッセージを引き渡すかをWebブラウザから設定することができる。
- データの加工: 簡単なJavaScriptを書くことで、ある入力からある出力に送るメッセージを加工することができる。

![screenshot](doc/screenshot.png)



# 誰のため？
mw1は例えば以下のようなユーザー、シチュエーションに対して役に立つシステムを目指して開発しています。

- プログラミングで映像を作り出すVJが、オーディエンスのスマートフォン操作とインタラクションする映像を作る。
- スマートフォンアプリやWebの開発ができる人が、その知識を使って電子楽器を扱う。
- IoTデバイスの開発者が、製品紹介のために音や映像照明と連動するデモンストレーションを行う。


# どれくらいのものができる？

mw1を使うことで、たとえば次のような作品を簡単に作れるようになります。

![SOUND & CITY](doc/sac.png)

これは加速度や圧力などのセンサーを仕込んだ靴を履いて足を振ったりジャンプしたりすることで、音楽や照明をコントロールできるようにした作品です。
靴はBluetooth Low Energyを利用してコンピューターにセンサー情報を送り、これをmw1が受け取ります。
mw1がこの情報を、音楽シーケンサー用のプロトコル(MIDI)上のメッセージと照明機材用のプロトコル(DMX)上のメッセージに変換してそれぞれに引き渡すことで、複数の通信プロトコルを扱う構成でも容易に作品を動かすことができます。


# 使用方法
基本的な使い方の流れは次のとおりです。

- このプログラムの本体をダウンロードし、起動する
- マルチモーダル創作に使いたいアプリケーション、ハードウェア等を用意する
- このプログラムと創作用のアプリ等を起動し、このプログラムに接続する


# このプログラム自体の開発方法
このプログラムの中身を改良したい場合は以下のドキュメントを参照してください。

1. ビルド済みパッケージをダウンロードしている場合は、まず[github](https://xxxxx/xxx)からソースコード一式を取得してください。
2. github作業ツリー内の[prgフォルダのREADME](prg/README.md)を参照してください。


# 仕様

## (Dictionaryと呼ばれている部分 + α)
- MIDIに変換されるjsonのフォーマット
- MIDIに変換されるOSCのフォーマット (最近今の書式から変えたいと思ってきた/詳細別途共有します)
- 対応フォーマット種類
- 接続管理に関する部分

## プロトコル変換の実装にまつわる部分
- Node.jsで書かれているということ (nodebrewからの簡単なインストールガイドを別ファイルで書いておきたい)
- サーバーサイドJavaScript上で実装される内部フォーマット(OSCライクなあれに全プロトコルが一度揃えられる、的な概念部分)

## データ変換の実装にまつわる部分(future workなので後回しでもOK、ただし実装は随時)

# 権利的な部分
- ライセンス
- コピーライト
- 免責
- 依存ライブラリのライセンスの吸い上げ (必須)
