<html>
<head>
  <meta charset="UTF-8">
  <title>FM_MW1</title>
  <style type="text/css">
  <!--
  table, td, th {
    border: solid 1px #999999;
  }

  div#msg {
    overflow: scroll;   /* スクロール表示 */
    width: 600px;
    height: 400px;
    border: solid 1px #999999;
  }
  //-->
  </style>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/mw1.js"></script> <!-- クライアント側の機能が詰まったctrlオブジェクトの読み込み -->
  <script type="text/javascript">
    "use strict";

    window.onload = function(){
      ctrl.init();
    }
  </script>

</head>
<body>
  <h2>接続中のデバイス</h2>
  <div id="network"></div>

  <br>======================================================================<br>
  OSC接続をネットワークに登録する<br>
  <table>
    <tr>
      <td>サーバーの受信ポートを追加</td>
      <td><button onclick="ctrl.open_new_osc_input();">追加</button></td>
    </tr>
    <tr>
      <td>送信先ホストを追加</td>
      <td>ホストアドレス<input  type="text" id="osc_host" style="width:120px;" />
          待ち受けポート番号<input type="text" id="osc_port" style="width:60px;" />
      <button onclick="ctrl.open_new_osc_output();">登録</button></td>
    </tr>
  </table>

  <br>======================================================================<br>
  このページをJSONクライアントとしてネットワーク参加する
  <button onclick="ctrl.join_as_wsjson();">参加</button><br>

  <div id=jsonclient>
    <textarea name="msg_input" id="msg_input", cols="60", rows="8"> </textarea>
    <button onclick="ctrl.publishMessage();">JSONを送る</button>
    <button onclick="ctrl.exit_wsjson();">切断</button>
    <p id=errormsg> </p>
    <div id="msg"></div>

    filter:
    <input type="checkbox" onclick="ctrl.filterSet(this);" value="/fm/timing"> timing
    <input type="checkbox" onclick="ctrl.filterSet(this);" value="/fm/noteon"> noteon
    <input type="checkbox" onclick="ctrl.filterSet(this);" value="/fm/noteoff"> noteoff
    <input type="checkbox" onclick="ctrl.filterSet(this);" value="/fm/notepressure"> notepressure
    <input type="checkbox" onclick="ctrl.filterSet(this);" value="/fm/controlchange"> controlchange
    <input type="checkbox" onclick="ctrl.filterSet(this);" value="/fm/programchange"> programchange
    <input type="checkbox" onclick="ctrl.filterSet(this);" value="/fm/channelpressure"> channelpressure
    <input type="checkbox" onclick="ctrl.filterSet(this);" value="/fm/pitchbend"> pitchbend

    <br>
    tempo: <span id="tempo"> </span>

  </div>

  <br>
</body>
</html>
